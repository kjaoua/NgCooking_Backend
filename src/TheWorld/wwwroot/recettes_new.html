
					<div class="content" id="content_recettes_new" ng-controller="recette_newCTRL">
						
						<h1 class="page-title">Nouvelle recette</h1>

						<section class="section">
							<form name="addRecetteForm" action=""  >
								<div class="row">
									<div class="col-xs-6">
										<p class="line">
											<label for="">Le nom de votre recette</label>
											<input type="text" class="mb0 wide" ng-model="recetteName" ng-change="setValidationStatus()" placeholder="nom de la recette" required>
										</p>
										<p class="line">
											<label for="">Catégorie</label>
											<select name="" id="" class="mb0 wide" ng-model="selectOption" ng-options="category as category.nameToDisplay for category in categories" ng-init="" ng-change="setValidationStatus()" required >

											</select>
										</p>
										<p class="line">
											<label for="">Préparation de votre recette</label>
											<textarea id="recette_desc" class="resizable mb0 wide" ng-model="recetteDesc" ng-change="setValidationStatus()" required></textarea>
										</p>
									</div>
									<div class="col-xs-6">
										<p class="line">
											<label for="">Photo de la recette</label>
                                            <input type="file" ngf-select ng-model="picFile" name="file"
                                                   accept="image/*" ngf-max-size="2MB" required
                                                   ngf-model-invalid="errorFile" ng-click="uploadPic(picFile)">
                                            <!--<button ng-disabled="!addRecetteForm.$valid" ng-click="uploadPic(picFile)">Choisissez un fichier</button>-->
										</p>
										<p class="line ac">
											<img ng-hide="addRecetteForm.file.$valid" class="current_img" src="img/recette_placeholder.jpg" alt="Visuel recette" >
                                            <img ng-show="addRecetteForm.file.$valid" ngf-thumbnail="picFile" class="thumb"> 

										</p>
                                       
									</div>
									<div class="col-xs-12">
										<div class="hr mt2 mb2"></div>
									</div>
									<div class="col-xs-12">
										<p class="line ac">
											<label for="">Sélectionnez tous les ingrédients de votre recette</label>
										</p>
										<p class="ac">
											<select name="selectCateg" id=""  ng-model="selectedCategorie" ng-options="cat as cat.nameToDisplay for cat in categories" ng-init="" ng-change="setCategory(selectedCategorie)" required>
												<option value="all">Toutes les catégories</option>

											</select>
											<span class="span-label"><span class="glyphicon glyphicon-menu-right nm"></span></span>
											<select name="selectIng" id="" ng-model="selectedIngredient" ng-options="ing as ing.name for ing in selectedCategory.ingredients" ng-init=""  ng-change="setIngredient(selectedIngredient)" required>

											</select>
											<button type="button" class="btn btn_color3" ng-disabled="!selectedIngredient" ng-click="addIngredient(selectedIngredient)"><span class="glyphicon glyphicon-plus"></span></button>
										</p>
										<div class="ingredients_list">
											<ul class="list ac">
												<li class="item" ng-repeat="ingred in ingredientList">
													<img class="item-img" ng-src="{{ingred.picture}}" alt="{{ingred.name}}">
													<p class="item-name" title="{{ingred.name}}">{{ingred.name}}</p>
													<button type="button" class="remove_ingredient"  ng-click="removeIngredient(ingred)"><span class="glyphicon glyphicon-remove"></span></button>
												</li>

											</ul>
										</div>
										<div class="ac">
											<p class="recette_total_calories">
												<span class="tit">Valeur calorique <span class="mass">(100g)</span> : </span><span class="val">{{getCalories()|number:0}}<span class="unit">kcal</span></span>
											</p>
										</div>
									</div>
									<div class="col-xs-12">
										<div class="hr mb2"></div>
									</div>
									<div class="col-xs-12 ac">
										<button type="button" class="btn btn_color3 recette_save" ng-disabled="addRecetteForm.$invalid" ng-click="submit()"><span class="glyphicon glyphicon-ok mr0"></span><span>Valider ma recette</span></button>
									</div>

									<!-- Afficher au clic sur "valider ma recette" lorsque tout s'est bien déroulé -->
									<div class="col-xs-12" ng-show="validationStatus === 'validated'">
										<p class="ac mt2 tb">
											<span class="glyphicon glyphicon-thumbs-up color3"></span>
											<span>Votre recette a bien été ajoutée !</span>
										</p>
										<p class="ac">
											<a class="btn btn_color1" href="#/monProfil"><span class="glyphicon glyphicon-cutlery"></span><span>Mes recettes</span></a>
										</p>
									</div>

									<!-- Afficher au clic sur "valider ma recette" si certains éléments sont manquants -->
									<div class="col-xs-12" ng-show="validationStatus === 'notValidated'">
										<p class="ac mt2 tb">
											<span class="glyphicon glyphicon-exclamation-sign color2"></span>
											<span>Woops ! Votre recette est super foireuse</span>
										</p>
										<p class="ac">Vous avez dû oublier quelque chose...</p>
									</div>
								</div>
							</form>
						</section>
					</div>


